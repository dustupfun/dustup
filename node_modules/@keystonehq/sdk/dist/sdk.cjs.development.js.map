{"version":3,"file":"sdk.cjs.development.js","sources":["../src/components/BaseQRCode.tsx","../src/types.ts","../src/components/Button.tsx","../src/components/ButtonGroup.tsx","../src/hooks/useAnimatedQRCodePlayer.tsx","../src/error.ts","../src/components/LoadingSpinner.tsx","../src/hooks/useAnimatedQRCodeReader.tsx","../src/components/InitialPage.tsx","../src/hooks/useController.tsx","../src/service.ts"],"sourcesContent":["import React from \"react\";\nimport QRCodeSVG from \"qrcode.react\";\n\nexport const BaseQRCode = ({\n  size = 200,\n  data = \"\",\n  ecl = \"L\",\n}: {\n  data: string;\n  size?: number;\n  ecl?: \"L\" | \"M\" | \"Q\" | \"H\";\n}) => {\n  return <QRCodeSVG value={data} size={size} level={ecl} />;\n};\n","import { UR } from \"@ngraveio/bc-ur\";\n\ntype DecodedSuccess = {\n  result: UR;\n  status: ReadStatus.success;\n};\n\ntype DecodedCanceled = {\n  status: ReadStatus.canceled;\n};\n\nexport type DecodedResult = DecodedSuccess | DecodedCanceled;\n\nexport enum ReadStatus {\n  canceled = \"canceled\",\n  success = \"success\",\n}\n\nexport enum PlayStatus {\n  canceled = \"canceled\",\n  success = \"success\",\n}\n\nexport type Play = (\n  data: UR,\n  options?: {\n    refreshSpeed?: number;\n    hasNext?: boolean;\n    title?: string;\n    description?: string;\n    maxFragmentLength? : number;\n  }\n) => Promise<PlayStatus>;\n\nexport type Read = (\n  expect: SupportedResult[],\n  options?: {\n    title?: string;\n    description?: string;\n    renderInitial?: {\n      walletMode: string;\n      link: string;\n      description?: string[];\n    };\n    URTypeErrorMessage?: string;\n  }\n) => Promise<DecodedResult>;\n\nexport type SDK = {\n  read: Read,\n  play: Play,\n  cameraReady: boolean\n}\n\nexport enum SupportedResult {\n  UR_BYTES = \"bytes\",\n  UR_CRYPTO_HDKEY = \"crypto-hdkey\",\n  UR_CRYPTO_ACCOUNT = \"crypto-account\",\n  UR_ETH_SIGN_REQUEST = \"eth-sign-request\",\n  UR_ETH_SIGNATURE = \"eth-signature\",\n  UR_CRYPTO_MULTI_ACCOUNTS = \"crypto-multi-accounts\",\n  UR_SOL_SIGN_REQUEST = \"sol-sign-request\",\n  UR_SOL_SIGNATURE = \"sol-signature\",\n  UR_APTOS_SIGN_REQUEST='aptos-sign-request',\n  UR_APTOS_SIGNATURE = 'aptos-signature',\n  UR_ARWEAVE_SIGN_REQUEST = 'arweave-sign-request',\n  UR_ARWEAVE_SIGNATURE = 'arweave-signature',\n  UR_ARWEAVE_CRYPTO_ACCOUNT = 'arweave-crypto-account',\n  UR_COSMOS_SIGN_REQUEST = 'cosmos-sign-request',\n  UR_COSMOS_SIGNATURE = 'cosmos-signature',\n  UR_PSBT = \"crypto-psbt\",\n}\n","import React, { FunctionComponent } from \"react\";\n\ntype Props = {\n  children: React.ReactNode;\n  onClick: () => any;\n};\n\nconst styleBase = {\n  width: \"50%\",\n  height: \"3rem\",\n  background: \"#784FFE\",\n  borderColor: \"grey\",\n  borderRadius: \"8px\",\n  borderWidth: 1,\n  color: \"white\",\n  outline: \"none\",\n  margin: 2,\n};\n\nexport const Button: FunctionComponent<Props> = (props) => {\n  const { onClick, children } = props;\n  return (\n    <button onClick={onClick} style={styleBase}>\n      {children}\n    </button>\n  );\n};\n","import React, { ReactNode } from 'react';\n\ninterface Props {\n  children: ReactNode;\n}\n\nexport const ButtonGroup: React.FC<Props> = (props:Props) => {\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        marginTop: \"1rem\",\n        display: \"flex\",\n        flexDirection: \"row-reverse\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      {props.children}\n    </div>\n  );\n};\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport { interval } from \"rxjs\";\nimport { BaseQRCode } from \"../components/BaseQRCode\";\nimport { Play, PlayStatus } from \"../types\";\nimport { EventEmitter } from \"events\";\nimport { Button } from \"../components/Button\";\nimport { ButtonGroup } from \"../components/ButtonGroup\";\nimport { UR, UREncoder } from \"@ngraveio/bc-ur\";\n\nconst DEFAULT_SPEED = 100;\n\nconst DEFAULT_MAX_FRAGMENT_LENGTH = 400;\n\nconst DEFAULT_UR = new UR(Buffer.from(\"NO DATA\", \"utf-8\"));\n\nexport const useAnimatedQRCodePlayer = (): [JSX.Element, { play: Play }] => {\n  const [data, setData] = useState<UR>(DEFAULT_UR);\n  const [shouldShow, setShouldShow] = useState(false);\n\n  const [refreshSpeed, setRefreshSpeed] = useState(DEFAULT_SPEED);\n  const [maxFragmentLength, setMaxFragmentLength] = useState(DEFAULT_MAX_FRAGMENT_LENGTH)\n  const [hasNext, setHasNext] = useState(false);\n  const [title, setTitle] = useState<string | null>(null);\n  const [description, setDescription] = useState<string | null>(null);\n\n  const urEncoder = useMemo(() => new UREncoder(data, maxFragmentLength), [data]);\n\n  const [qr, setQR] = useState<string>(urEncoder.nextPart());\n\n  const ee = useMemo(() => new EventEmitter(), []);\n  const reset = () => {\n    setData(DEFAULT_UR);\n    setShouldShow(false);\n    setRefreshSpeed(DEFAULT_SPEED);\n  };\n\n  useEffect(() => {\n    if (urEncoder.cbor.toString(\"hex\") !== DEFAULT_UR.cbor.toString(\"hex\")) {\n      setShouldShow(true);\n    }\n  }, [urEncoder]);\n\n  useEffect(() => {\n    const subscribe = interval(refreshSpeed).subscribe(() => {\n      setQR(urEncoder.nextPart());\n    });\n    return () => {\n      subscribe.unsubscribe();\n    };\n  }, [refreshSpeed, urEncoder]);\n\n  const finish = () => {\n    ee.emit(\"finish\", true);\n  };\n\n  const element = shouldShow ? (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n      }}\n    >\n      {title && (\n        <p style={{ fontSize: \"1.25rem\", fontWeight: \"bold\" }}>{title}</p>\n      )}\n      <BaseQRCode size={288} data={qr} />\n      {description && (\n        <p style={{ fontSize: \"1rem\", textAlign: \"center\" }}>{description}</p>\n      )}\n      <ButtonGroup>\n        <Button onClick={finish}>{hasNext ? \"Scan Keystone\" : \"Finish\"}</Button>\n      </ButtonGroup>\n    </div>\n  ) : (\n    <div></div>\n  );\n\n  return [\n    element,\n    {\n      play: (data, options) => {\n        return new Promise((resolve) => {\n          setData(data);\n          if (options) {\n            options.refreshSpeed && setRefreshSpeed(options.refreshSpeed);\n            options.hasNext && setHasNext(options.hasNext);\n            options.title && setTitle(options.title);\n            options.description && setDescription(options.description);\n            options.maxFragmentLength && setMaxFragmentLength(options.maxFragmentLength)\n          }\n          ee.once(\"finish\", () => {\n            reset();\n            resolve(PlayStatus.success);\n          });\n        });\n      },\n    },\n  ];\n};\n","export class URTypeError extends Error {\n  constructor(msg: string) {\n    super(msg);\n\n    // Set the prototype explicitly.\n    Object.setPrototypeOf(this, URTypeError.prototype);\n  }\n}\n","import React from \"react\";\n\nexport const LoadingSpinner = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      style={{\n        margin: \"auto\",\n        display: \"block\",\n        shapeRendering: \"auto\",\n        animationPlayState: \"running\",\n        animationDelay: \"0s\",\n      }}\n      width=\"200px\"\n      height=\"200px\"\n      viewBox=\"0 0 100 100\"\n      preserveAspectRatio=\"xMidYMid\"\n    >\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        fill=\"none\"\n        stroke=\"#9b9b9b\"\n        strokeWidth=\"7\"\n        r=\"35\"\n        strokeDasharray=\"164.93361431346415 56.97787143782138\"\n        style={{ animationPlayState: \"running\", animationDelay: \"0s\" }}\n      >\n        <animateTransform\n          attributeName=\"transform\"\n          type=\"rotate\"\n          repeatCount=\"indefinite\"\n          dur=\"1s\"\n          values=\"0 50 50;360 50 50\"\n          keyTimes=\"0;1\"\n          style={{ animationPlayState: \"running\", animationDelay: \"0s\" }}\n        ></animateTransform>\n      </circle>\n    </svg>\n  );\n};\n","import React, { useMemo, useState, Suspense } from \"react\";\nimport { EventEmitter } from \"events\";\nimport { Button } from \"../components/Button\";\nimport { URTypeError } from \"../error\";\n\nimport { Read, SupportedResult } from \"../types\";\nimport { ButtonGroup } from \"../components/ButtonGroup\";\nimport { LoadingSpinner } from \"../components/LoadingSpinner\";\nimport { URDecoder } from \"@ngraveio/bc-ur\";\nimport { Scanner } from '@yudiel/react-qr-scanner';\n\nexport interface URQRCodeData {\n  total: number;\n  index: number;\n  data: string;\n}\n\nlet URTypeErrorMessage = \"\";\n\nexport const useAnimatedQRCodeReader = (): [\n  JSX.Element,\n  { read: Read; cameraReady: boolean }\n] => {\n  const [cameraReady, setCameraReady] = useState<boolean>(false);\n  const [expectTypes, setExpectTypes] = useState<SupportedResult[]>([]);\n  const [urDecoder, setURDecoder] = useState(new URDecoder());\n  const [error, setError] = useState(\"\");\n  const ee = useMemo(() => new EventEmitter(), []);\n  const [title, setTitle] = useState<string | null>(null);\n  const [progress, setProgress] = useState(0);\n  const [description, setDescription] = useState<string | null>(null);\n  const reset = () => {\n    setURDecoder(new URDecoder());\n    setError(\"\");\n    setProgress(0);\n  };\n\n  const processQRCode = (qr: string, errorMessgeOnURType: string) => {\n    processUR(qr, errorMessgeOnURType);\n  };\n\n  const handleStop = () => {\n    ee.emit(\"read\", {\n      status: \"canceled\",\n    });\n  };\n\n  const handleRetry = () => {\n    reset();\n  };\n\n  const processUR = (ur: string, errorMessgeOnURType: string) => {\n    try {\n      if (!urDecoder.isComplete()) {\n        urDecoder.receivePart(ur);\n        setProgress(urDecoder.getProgress());\n      } else {\n        const result = urDecoder.resultUR();\n        let foundExpected = false;\n        expectTypes.forEach((et) => {\n          if (et === result.type) {\n            foundExpected = true;\n            ee.emit(\"read\", {\n              result,\n              status: \"success\",\n            });\n            return;\n          }\n        });\n        if (!foundExpected)\n          throw new URTypeError(\n            `received ur type ${result.type}, but expected [${expectTypes.join(\n              \",\"\n            )}]`\n          );\n      }\n    } catch (e) {\n      if (e instanceof URTypeError) {\n        setError(errorMessgeOnURType);\n      } else {\n        setError((e as Error).message);\n      }\n    }\n  };\n\n  const element = (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n      }}\n    >\n      {title && (\n        <p style={{ fontSize: \"1.25rem\", fontWeight: \"bold\" }}>{title}</p>\n      )}\n      {description && (\n        <p style={{ fontSize: \"1rem\", textAlign: \"center\" }}>{description}</p>\n      )}\n      <Suspense fallback={<div style={{ position: \"relative\", width: \"100%\" }} />}>\n        <div style={{ position: \"relative\", width: \"100%\" }}>\n          {!cameraReady ? (\n            <div\n              style={{\n                position: \"absolute\",\n                top: \"50%\",\n                left: \"50%\",\n                transform: \"translate(-50%, -50%)\",\n              }}\n            >\n              <LoadingSpinner />\n            </div>\n          ) : null}\n          <Scanner\n            onResult={(data: any) => {\n              if (data) {\n                setCameraReady(true);\n                processQRCode(data, URTypeErrorMessage);\n              }\n            }}\n            styles={{ container: { width: \"100%\" }, finderBorder: 0 }}\n            onError={(e) => {\n              setError(e.message);\n            }}\n            options={{ delayBetweenScanSuccess: 100, delayBetweenScanAttempts: 100 }}\n            components={{ tracker: false, audio: false, torch: false, count: false, onOff: false }}\n          />\n        </div>\n      </Suspense>\n      {progress > 0 && progress <= 1 && <p>{(progress * 100).toFixed(0)} %</p>}\n      {error && <p style={{ color: \"red\", fontSize: \"1rem\" }}>{error}</p>}\n      <ButtonGroup>\n        <Button onClick={handleStop}>Close</Button>\n        {error && <Button onClick={handleRetry}>Retry</Button>}\n      </ButtonGroup>\n    </div>\n  );\n\n  return [\n    element,\n    {\n      read: (expect, options) => {\n        return new Promise((resolve) => {\n          setExpectTypes(expect);\n          if (options) {\n            options.title && setTitle(options.title);\n            options.description && setDescription(options.description);\n            URTypeErrorMessage = options.URTypeErrorMessage\n              ? options.URTypeErrorMessage\n              : \"\";\n          }\n          ee.once(\"read\", (result) => {\n            reset();\n            resolve(result);\n          });\n        });\n      },\n      cameraReady,\n    },\n  ];\n};\n","import React from \"react\";\nimport { Button } from \"./Button\";\n\nconst mulitCoinLogo = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAoCAYAAACfKfiZAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAKAAAAACc9ikyAAAD+ElEQVRYCb1WbWiNURw/Z9caY5SyrKzVhuUtZcYoJdZ8kMywGClG+WK+eJsPmogNKfZBxBbmAyPyEgvtA8UUX9inbVeb8AGTd8t2j9/vdp91ntPzPPd57h3/+t1z/uf/ev7nnP9zhUiMsmH2BOgF9ifmIjmrVpgrDWuScxfMeqUW2EqiB2sjgrlJTDsNZmHACqyP2xJzGcyq2iU4E7kTzFVw7fEw+Qbou9bn94K7FCIlgNFh6I7y0E8oAQ9/NlEBuAig71ifv4VspM1iiJnHHsGZyPohjmdzxzeu79acsyFJm8UQMnzbfONmUIvnsRTG4g3DWAM8B24DM4GkaR88WMGcxkYtQr2h+wl8niYPPJ0Aix+AU2Cu8UlmASRe0gHA1L1JYaLUBEPToc7v1hx7XdISTc/3tAiaXs+uE3K2ZdJaQE/MnLdDzvvhm3ij2wDTkc4vj3lLx/gmji7tqmL6voYNcRze17zwv4CemNuc/xt8NSoqsau5OfoD2TSAxDb+EXDTNdeX0igeHYSCaajzfGoWZWDidU90O84XWIZuYw4EvwDT0OK527GG8VUPfcuO4wPAsVvqt/MolIYDbsSmxLPUiS+gEpgBOH1Z+7HOC90MMBFXYnn0jM35S8hDrtZJCFgBluZEHB/bIWenc6XVV1Qo/MCxCoM2ucUi0lwubX4YfBng1TKvQ1426MWY1NSolAs94jJKVoYaOh2DbqGw3ddQqutqkGcooEG5rmHM+8DvMNZs7KVuUaiUWOUjOO0k9HIjSpzOq1RRv0xgus2jnTkONhxbKsZ4A7gFlMbWRChddMLtZ4v3O0YiojZvq8rkEbwCrOai278Dkw98BxYBLYD+anaB58sREzerosiAaMExjCbvl0KpooAV6HIx2IN1Bk8FTgF6cLDiCLCTk86z8mlKSCzBbr6S90NSooumiXYm8MjBgG+3KbZehXGygw6XmAQrEU0C77TETxII3ofA6zrrZR+PIAvoBrhTEnvAPIBJZAIdQLzS8r8BkxGTNqq5AxLHocQY8iYxOIKuwCu4Sxkr8B7g5bLoIiYMTjoExAtOvTqASYiORtmmJCohxRfyBv3GeqkVnDJWgLQQaAV45iw3k5oKsAMySb9UDcVaKuduUYWiX1xDObPJI/AHDBXhBsnvwiBZCXChAuA/nWdkQLxg0bJGOf8/tDtG9fxNKqNfisX4ZKamC/Gw/Zzs9e9GiL1Q5n0ICn6A5gQJ5KY7C4Ig33s90WibdXOsr3ud7wsoshcwiaAUPfegRm76syHgBylINaIX0c1hout8FecB/i/Uy23OedvZP/4Z5cDzSeAnYAZnK54P/BcahygHAD5dNh12tilAIPoLD0OnpwCV000AAAAASUVORK5CYII=\";\n\nconst BtcOnlyLogo = \"data:image/png;base64,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\";\n\nexport const InitialPage = (props: {\n  walletMode: string;\n  link: string | undefined;\n  description?: {\n    first: string;\n    second: string;\n    third: string;\n    fourth: string;\n  },\n  onButtonClick: () => void;\n}) => {\n  return (\n    <div style={{ paddingLeft: \"1rem\" }}>\n      <div style={{ display: \"flex\", alignItems: \"center\", padding: 0 }}>\n        <img\n          style={{ display: \"inline-block\", width: \"2.5rem\", height: \"2.5rem\"}}\n          src={props.walletMode === \"btc\" ? BtcOnlyLogo : mulitCoinLogo }\n          alt=\"\"\n        />\n        <div\n          style={{\n            fontSize: \"1.25rem\",\n            fontWeight: \"bold\",\n            marginLeft: \"1rem\",\n          }}\n        >\n          {props.walletMode === \"btc\" ? \"Sync Keystone BTC\" : \"Sync Keystone\"}\n        </div>\n      </div>\n      <ul\n        style={{\n          marginTop: \"2rem\",\n          listStyleType: \"none\",\n          padding: 0,\n          fontSize: \"1rem\",\n        }}\n      >\n        <li style={{ marginBottom: \"0.75rem\" }}>\n          {props.description ? props.description[0] : '1. Turn on your Keystone hardware device'}\n        </li>\n        <li\n          style={{ marginBottom: \"0.75rem\" }}\n        >{props.description ? props.description[1] : `2. Select your \"${props.walletMode}\" as your Watch-only wallet(Companion App)`}</li>\n        <li style={{ marginBottom: \"0.75rem\" }}>\n          {\" \"}\n          {props.description ? props.description[2] : '3. Press the \"Scan Keystone\" button and scan the QR Code displayed on your Keystone hardware wallet'}\n        </li>\n        <li style={{ marginBottom: \"0.75rem\" }}>\n          {\" \"}\n          {props.description ? props.description[3] : \"4. Select account and check your watch-only wallet\"}\n        </li>\n      </ul>\n      {props.link.length > 0 && (<div style={{ marginBottom: \"1rem\" }}>\n        <a\n          style={{\n            marginTop: \"1.25rem\",\n            color: \"#784FFE\",\n            textDecoration: \"none\",\n          }}\n          href={props.link}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          Click here to view detailed tutorial\n        </a>\n      </div>)}\n      <Button onClick={props.onButtonClick}>Sync Keystone</Button>\n    </div>\n  );\n};\n","import React, { useMemo, useState } from \"react\";\nimport Modal from \"react-modal\";\nimport { EventEmitter } from \"events\";\nimport { useAnimatedQRCodePlayer } from \"./useAnimatedQRCodePlayer\";\nimport { useAnimatedQRCodeReader } from \"./useAnimatedQRCodeReader\";\nimport { Play, PlayStatus, Read, ReadStatus } from \"../types\";\nimport { InitialPage } from \"../components/InitialPage\";\n\nconst customStyles = {\n  overlay: {\n    zIndex: 9999,\n  },\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    borderRadius: \"10px\",\n    maxWidth: \"37rem\",\n    width: \"85%\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    postion: \"relative\",\n  },\n};\n\nexport const useController = (): [\n  JSX.Element,\n  {\n    play: Play;\n    read: Read;\n    cameraReady: boolean;\n  }\n] => {\n  const ee = useMemo(() => new EventEmitter(), []);\n  const [visible, setVisible] = useState(false);\n  const [walletMode, setWalltMode] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n  const [description, setDescription] = useState(undefined);\n  const [mode, setMode] = useState<\"read\" | \"play\" | \"initial\" | null>(null);\n  const [AnimatedQRCodePlayer, { play }] = useAnimatedQRCodePlayer();\n  const [AnimatedQRCodeReader, { read, cameraReady }] =\n    useAnimatedQRCodeReader();\n  const close = () => {\n    ee.emit(\"close\");\n    reset();\n  };\n\n  const reset = () => {\n    setMode(null);\n    setLink(\"\");\n    setWalltMode(\"\");\n    setVisible(false);\n  };\n\n  const goToRead = () => {\n    setMode(\"read\");\n  };\n\n  const renderPannel = (pageMode: string) => {\n    if (pageMode === \"initial\") {\n      return (\n        <InitialPage\n          walletMode={walletMode}\n          link={link}\n          description={description}\n          onButtonClick={goToRead}\n        />\n      );\n    } else if (pageMode === \"read\") {\n      return AnimatedQRCodeReader;\n    } else if (pageMode === \"play\") {\n      return AnimatedQRCodePlayer;\n    } else {\n      return null;\n    }\n  };\n\n  const element = (\n    <Modal isOpen={visible} style={customStyles}>\n      <div onClick={close}>\n        <img\n          style={{ position: \"absolute\", top: \"1rem\", right: \"1rem\" }}\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADKADAAQAAAABAAAADAAAAAATDPpdAAAAmklEQVQoFZWRwQ3DIAwAa4brJPBP80hnaD/lD5N0iYxEfRVBxBGRwsvgO2PZklJaReTrvX/eTk7O+VVKuTtgDRYVPyOeHAysAFV40jCGEB69aHN/YSRZGK4JVuKu5/DrToDoqnI9tOh4vXJ2Qlc96kSY2lTfWs0m9DCT0r3MSkUrXR9r3eBCNbuDrY/td23z7Vg3wQhGIgcD+wPGY2fPvHuWagAAAABJRU5ErkJggg==\"\n        />\n      </div>\n      <div\n        style={{\n          maxWidth: \"35rem\",\n          padding: 18,\n          flex: 1,\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          color: \"#002237\",\n        }}\n      >\n        {renderPannel(mode)}\n      </div>\n    </Modal>\n  );\n  return [\n    element,\n    {\n      play: (data, options) => {\n        return new Promise<PlayStatus>((resolve) => {\n          ee.once(\"close\", () => {\n            resolve(PlayStatus.canceled);\n          });\n          setVisible(true);\n          setMode(\"play\");\n          play(data, options).then(() => {\n            reset();\n            resolve(PlayStatus.success);\n          });\n        });\n      },\n      read: async (expect, options) => {\n        return new Promise((resolve) => {\n          ee.once(\"close\", () => {\n            reset();\n            resolve({\n              status: ReadStatus.canceled,\n            });\n          });\n          if (options.renderInitial) {\n            setWalltMode(options.renderInitial.walletMode);\n            setLink(options.renderInitial.link);\n            setDescription(options.renderInitial.description);\n            setMode(\"initial\");\n            setVisible(true);\n            read(expect, options).then((result) => {\n              reset();\n              resolve(result);\n            });\n          } else {\n            setMode(\"read\");\n            setVisible(true);\n            read(expect, options).then((result) => {\n              reset();\n              resolve(result);\n            });\n          }\n        });\n      },\n      cameraReady,\n    },\n  ];\n};\n","import React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { EventEmitter } from \"events\";\nimport Modal from \"react-modal\";\nimport { createRoot } from \"react-dom/client\";\nimport { Play, Read, SDK } from \"./types\";\nimport { useEffect } from 'react';\nimport { useController } from \"./hooks/useController\";\n\n\nconst ee = new EventEmitter();\nlet read: Read;\nlet play: Play;\nlet cameraReady: boolean;\n\nconst Container = () => {\n  const [Controller, { read, play, cameraReady }] = useController();\n  useEffect(() => {\n    setupSdk(read, play, cameraReady);\n    ee.emit('RenderDone');\n  }, []);\n  return Controller;\n};\n\nconst bootstrap = (): void => {\n  const htmlBody = document\n    .getElementsByTagName(\"body\")\n    .item(0) as HTMLBodyElement;\n  const sdkDiv = document.createElement(\"div\");\n  sdkDiv.id = \"kv_sdk_container\";\n  htmlBody.appendChild(sdkDiv);\n  Modal.setAppElement(\"#kv_sdk_container\");\n\n  const reactVersion = React.version;\n  const big = reactVersion.split('.')[0];\n\n  if (parseInt(big) < 18) {\n    ReactDOM.render(React.createElement(Container), sdkDiv);\n  } else {\n    const RootElement = React.createElement(Container);\n    createRoot(sdkDiv).render(RootElement);\n  }\n};\n\nexport const setupSdk = (r: Read, p: Play, status: boolean) => {\n  read = r;\n  play = p;\n  cameraReady = status;\n};\n\n\nconst sdkInstance: Promise<SDK> = new Promise((resolve) => {\n  ee.on('RenderDone', () => {\n    let sdkInstance: SDK = {\n      read,\n      play,\n      cameraReady,\n    };\n    resolve(sdkInstance);\n  });\n});\n\nconst sdk = {\n  bootstrap,\n  getSdk: (): Promise<SDK> => sdkInstance,\n};\n\nexport default sdk;\n"],"names":["BaseQRCode","size","data","ecl","React","QRCodeSVG","value","level","ReadStatus","PlayStatus","SupportedResult","styleBase","width","height","background","borderColor","borderRadius","borderWidth","color","outline","margin","Button","props","onClick","children","style","ButtonGroup","marginTop","display","flexDirection","alignItems","justifyContent","DEFAULT_SPEED","DEFAULT_MAX_FRAGMENT_LENGTH","DEFAULT_UR","UR","Buffer","from","useAnimatedQRCodePlayer","setData","useState","shouldShow","setShouldShow","refreshSpeed","setRefreshSpeed","maxFragmentLength","setMaxFragmentLength","hasNext","setHasNext","title","setTitle","description","setDescription","urEncoder","useMemo","UREncoder","qr","setQR","nextPart","ee","EventEmitter","reset","useEffect","cbor","toString","subscribe","interval","unsubscribe","finish","emit","element","fontSize","fontWeight","textAlign","play","options","Promise","resolve","once","success","URTypeError","Error","constructor","msg","Object","setPrototypeOf","prototype","LoadingSpinner","xmlns","shapeRendering","animationPlayState","animationDelay","viewBox","preserveAspectRatio","cx","cy","fill","stroke","strokeWidth","r","strokeDasharray","attributeName","type","repeatCount","dur","values","keyTimes","URTypeErrorMessage","useAnimatedQRCodeReader","cameraReady","setCameraReady","expectTypes","setExpectTypes","urDecoder","setURDecoder","URDecoder","error","setError","progress","setProgress","processQRCode","errorMessgeOnURType","processUR","handleStop","status","handleRetry","ur","isComplete","receivePart","getProgress","result","resultUR","foundExpected","forEach","et","join","e","message","Suspense","fallback","position","top","left","transform","Scanner","onResult","styles","container","finderBorder","onError","delayBetweenScanSuccess","delayBetweenScanAttempts","components","tracker","audio","torch","count","onOff","toFixed","read","expect","mulitCoinLogo","BtcOnlyLogo","InitialPage","paddingLeft","padding","src","walletMode","alt","marginLeft","listStyleType","marginBottom","link","length","textDecoration","href","target","rel","onButtonClick","customStyles","overlay","zIndex","content","right","bottom","maxWidth","marginRight","postion","useController","visible","setVisible","setWalltMode","setLink","undefined","mode","setMode","AnimatedQRCodePlayer","AnimatedQRCodeReader","close","goToRead","renderPannel","pageMode","Modal","isOpen","flex","canceled","then","renderInitial","Container","Controller","setupSdk","bootstrap","htmlBody","document","getElementsByTagName","item","sdkDiv","createElement","id","appendChild","setAppElement","reactVersion","version","big","split","parseInt","ReactDOM","RootElement","createRoot","render","p","sdkInstance","on","sdk","getSdk"],"mappings":"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"}